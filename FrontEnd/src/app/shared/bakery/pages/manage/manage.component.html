<app-navbar></app-navbar>

<div class="mt-5">

  <h1 class="text-center fo-p" >Gestisci Ordini</h1>

  <div class="mt-5">

    <div class="pb-10">

      <div *ngIf="orders.length === 0" class="container-empty flex justify-center" >

        <h1 class="empty h-[300px] mt-56">Non hai Nessun Ordine</h1>

      </div>

      <div class="ml-4 mr-4 mt-4 ">

        <div *ngFor="let order of orders">

          <div class="ml-5 mr-5 mt-3 mb-20 border-gray-500 border-2 rounded-3xl p-3 shadow-2xl ">

            <div class="flex justify-evenly">
              <h2 class="">Ordine N° {{order.id}}</h2>
              <h4 class="mt-2">Totale: {{order.totalPrice}}€</h4>
              <h4 class="mt-2">Status: {{order.status}}</h4>
            </div>

            <div class="mt-2 mb-2">
              <h5 class="text-center">{{order.address?.street}}, {{order.address?.number}}, {{order.address?.city}}, {{order.address?.provincia}}</h5>
            </div>


            <hr>

            <div class="elemento mt-4">

              <div *ngFor="let item of order.items">

                <div class="ml-4 mt-2 mb-2 desc flex relative" >

                  <div class="flex mb-3">

                    <div class="h-16 w-16 rounded-full overflow-hidden mb-3">
                      <img [src]="item.details?.img" class="w-full h-full object-cover rounded-full">
                    </div>

                    <div class="ml-5">

                      <div class="">
                        <h4>{{item.details?.name}}</h4>
                      </div>
                      <div class="ml-4">
                        {{item.details?.description}}
                      </div>
                    </div>

                  </div>

                  <div class="absolute right-4 flex info">

                    <div class="mr-1">
                      <h4>{{item.quantity}}pz x {{item.details?.price}}€ = </h4>
                    </div>

                    <div>

                      <h4 class="text-red-600">{{item.subTotal}}€</h4>

                    </div>
                  </div>



                </div>



              </div>

            </div>

            <div class="flex justify-evenly">

              <button class="btn btn-success" (click)="accept(order)">
                Accetta
              </button>

              <button class="btn btn-danger" (click)="reject(order)">
                Rifiuta
              </button>

              <button class="btn btn-warning" (click)="send(order)">
                Consegnato
              </button>

            </div>



          </div>

        </div>

      </div>


    </div>


  </div>


</div>


<app-footer></app-footer>
