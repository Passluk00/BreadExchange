
<div class="main-container z-50">

  <div class="navbar">


    <!-- Logo -->
    <div class="logo bg-white">

      <a routerLink="" aria-current="page">
        <img src="public/testImg/lct.png" alt="logo" >
      </a>

    </div>



    <!-- Search -->
    <div class="container-search">

      <div class="search bg-white mt-5px">
        <fa-icon [icon]="faMagnifyingGlass" class="bg-white"></fa-icon>
        <input
          class="search-input"
          type="text"
          placeholder="Cerca Rivenditori..."
          [(ngModel)]="searchValue"
          (input)="onSearch()"
        >

      </div>

      <div class="absolute risultati bg-transparent" *ngIf="results.length > 0 && searchValue != '' ">

        <div *ngFor="let element of results" class="bg-transparent mt-2 mb-2 shadow-2xl rounded-bl-2xl" >

          <a class="no-underline bg-white items-center flex rounded-3xl w-[600px]" routerLink="/bakery/{{element.id}}" >

            <img [src]="element.picture" class="rounded-full pt-2 pb-2 pl-2 bg-white object-cover" height="200px" width="200px">

            <h2 class="text-black text-center bg-white pl-200 ml-10">
              {{element.name}}
            </h2>
          </a>

        </div>
      </div>



    </div>






    <!-- Not Logged -->

    <ng-template #guest>
      <div class="guest">
        <a routerLink="/login">Login</a>
      </div>
    </ng-template>



    <!-- bottone menu -->
    <div class="menu-container bg-white align-items-center" *ngIf="isLogged; else guest">

      <div class="relative">

        <ng-template #placeholder >

          <div class="menu-toggle bg-white" (click)="toggleDropdown()">

            <div class="profile-img bg-white" >
              <img src="/public/testImg/profile.jpeg" class="bg-white img" alt="alt user profile picture">
            </div>

            <span>
              <div>
                <p class="bg-white">Username</p>
              </div>
            </span>
          </div>
        </ng-template>

        <div class="menu-toggle bg-white" (click)="toggleDropdown()" *ngIf="userData; else placeholder">

          <ng-template #altImg>
            <div class="profile-img bg-white" >
              <img src="public/testImg/profile.jpeg" class="bg-white img" alt="user profile picture">
            </div>
          </ng-template>

          <div *ngIf="userData.url_picture != ''; else altImg" class="profile-img bg-white" >
            <img [src]="userData.url_picture" class="bg-white img" alt="user profile picture">
          </div>

          <span>
            <p class="bg-white">{{userData.username}}</p>
          </span>

        </div>

        <!-- Dropdown menu -->
        <div [ngClass]="isDropdownOpen ? 'transition ease-ot duration-300 transform opacity-100 scale-100' :
                                     'transition ease-in duration-75 transform opacity-0 scale-95 pointer-events-none'"
             class=" z-10 menu">

          <ul class="text-sm mt-2 bg-white" aria-labelledby="dropdownDefaultButton">

            <li class="elements-list cursor-pointer" >
              <a (click)="goToUserPage()" class="primo">
                <fa-icon class="icon" [icon]="faUser"></fa-icon>
                Profile
              </a>
            </li>

            <li class="elements-list cursor-pointer" *ngIf="isOwner">
              <a (click)="goToManage()">
                <fa-icon class="icon" [icon]="faShop"></fa-icon>
                Gestisci Ordini
              </a>
            </li>

            <li class="elements-list cursor-pointer" *ngIf="isAdmin">
              <a (click)="goToAdminPage()">
                <fa-icon class="icon admin" [icon]="faTriangleExclamation"></fa-icon>
                Admin Panel
              </a>
            </li>

            <hr class="mt-2">

            <li class="elements-list mb-1.5">
              <a href="#" (click)="logout()">
                <fa-icon class="icon logout" [icon]="faArrowRightFromBracket"></fa-icon>
                Log out
              </a>
            </li>

          </ul>

        </div>

      </div>

    </div>

  </div>

</div>
